(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{386:function(e,t,a){"use strict";a.d(t,"d",function(){return r}),a.d(t,"f",function(){return l}),a.d(t,"e",function(){return i}),a.d(t,"a",function(){return s}),a.d(t,"b",function(){return c}),a.d(t,"g",function(){return d}),a.d(t,"c",function(){return u});var n=a(390),o=a.n(n);function r(e,t){if(!e)return null;var a=o()(e).format("YYYY-MM-DDTHH:mm:ss");return null!=t&&(a=o()(e).format(t)),a}function l(e,t){if(!e)return null;var a=o()(e).format("D/M/YYYY");return null!=t&&(a=o()(e).format(t)),a}function i(e,t){if(null==e||""===e)return"";var a="",n=e.indexOf("{"),o=e.indexOf("}");return n>-1&&n>-1&&n<o&&(a=function(e,t,a,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(a+1)}(e,n,o,t)),a}function s(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function c(e){var t=new Date(e+"z");return o.a.utc(t).local()}function d(e){return(e=e.toString().replace(/,/g,"")).replace(/\B(?=(\d{3})+(?!\d))/g,",")}function u(e){return e=e.toString().replace(/,/g,""),isNaN(parseInt(e))?0:parseInt(e)}},392:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(22),o=a(23),r=a(26),l=a(24),i=a(25),s=a(1),c=a.n(s),d=a(18),u=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.responseData,a=e.msgErrorGetAPI,n=e.msgRedirectToLogin,o=e.t,r=c.a.createElement("div",{className:"alert alert-danger"},a);if(t&&(401===t.status||403===t.status)){var l=401===t.status?o(d.a.common.error401GetAPI):o(d.a.common.error403GetAPI);r=c.a.createElement("div",null,c.a.createElement("div",{className:"alert alert-danger"},a,c.a.createElement("br",null),l,c.a.createElement("br",null),c.a.createElement("a",{className:"alert-link",href:"/login"},n)))}return r}}]),t}(c.a.Component)},394:function(e,t,a){"use strict";var n=a(22),o=a(23),r=a(26),l=a(24),i=a(25),s=a(1),c=a.n(s),d=a(464),u=a(402),m=a(18),f=a(5),h=a(19),g=a(107),E=a.n(g),b=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpenModal,a=e.className,n=e.toggleModal,o=e.headerTitle,r=e.bodyContent,l=e.sizeModal,i=e.textBtnYes,s=e.textBtnNo,d=e.backdropModal,u=e.selectedYes;return c.a.createElement(f.B,{isOpen:t,size:l,backdrop:d,className:"modal-"+a,toggle:n},c.a.createElement(f.E,{toggle:n},o),c.a.createElement(f.C,null,r),c.a.createElement(f.D,null,c.a.createElement(f.b,{className:"label-button-confirm",color:a,onClick:u},i)," ",c.a.createElement(f.b,{className:"label-button-confirm",color:"secondary",onClick:n},s)))}}]),t}(c.a.Component),p=a(32),S=a(29),v=a(141),C=a(73),M=a(386);a.d(t,"a",function(){return I});var A=null,N=null,I=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).openModalChangeStatus=function(e){A=e,a.handleToggleModal(p.a.CHANGE_STATUS,null)},a.openModalDelete=function(e){A=e,a.handleToggleModal(p.a.DELETE,null)},a.openModalChangeIsDefault=function(e){A=e,a.handleToggleModal(p.a.CHANGE_ISDEFAULT,null)},a.handleToggleModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&e===p.a.CHANGE_STATUS?A&&A.Id&&a.props.changeStatusAction(A.Id):t&&e===p.a.DELETE?A&&A.Id&&a.props.deleteAction(A.Id):t&&e===p.a.CHANGE_ISDEFAULT&&A&&A.Id&&a.props.changeIsDefaultAction(A.Id),a.setState({isShowStatusConfirmModal:e===p.a.CHANGE_STATUS&&!a.state.isShowStatusConfirmModal,isShowDeleteConfirmModal:e===p.a.DELETE&&!a.state.isShowDeleteConfirmModal,isShowIsDefaultConfirmModal:e===p.a.CHANGE_ISDEFAULT&&!a.state.isShowDeleteConfirmModal})},a.handleSwitchFilter=function(){Object(S.e)(p.a.FILTER+a.props.tableName,!a.state.isEnableFilter),a.setState({isEnableFilter:!a.state.isEnableFilter})},a.handleEditAction=function(e){if(e&&e.Id){var t=a.props,n=t.history,o=t.tableName;n&&n.push(o.toLowerCase()+"/"+e.Id)}},a.requestAction=function(e){var t=e.deleteModel,a=e.changeStatusModel,n=e.changeIsDefaultModel;return t&&t.isLoading?(N=p.a.DELETE,!0):a&&a.isLoading?(N=p.a.CHANGE_STATUS,!0):n&&n.isLoading?(N=p.a.CHANGE_ISDEFAULT,!0):void 0},a.responseAction=function(e){var t=e.t,a=e.getAllModel,n=e.deleteModel,o=e.changeStatusModel,r=e.changeIsDefaultModel;if(Object(v.d)(a)){var l=a.responseData.Data.Records;switch(N&&!0){case p.a.DELETE&&!Object(v.f)(n):n.isError?C.toastr.error(t(m.a.common.deleteInfo),t(m.a.common.deleteErrorInfo)):(a.responseData.Data.Records=Object(v.h)(A,l),C.toastr.success(t(m.a.common.deleteInfo),t(m.a.common.deleteSuccessInfo)));break;case p.a.CHANGE_STATUS&&!Object(v.f)(o):o.isError?C.toastr.error(t(m.a.common.switchStatusInfo),t(m.a.common.switchStatusErrorInfo)):(a.responseData.Data.Records=Object(v.c)(A,l),C.toastr.success(t(m.a.common.switchStatusInfo),t(m.a.common.switchStatusSuccessInfo)));break;case p.a.CHANGE_ISDEFAULT&&!Object(v.f)(r):r.isError?C.toastr.error(t(m.a.common.switchStatusInfo),t(m.a.common.switchStatusErrorInfo)):(a.responseData.Data.Records=Object(v.b)(A,l),C.toastr.success(t(m.a.common.switchStatusInfo),t(m.a.common.switchStatusSuccessInfo)))}N=null}},a.state={isShowStatusConfirmModal:!1,isShowDeleteConfirmModal:!1,isShowIsDefaultConfirmModal:!1,isEnableFilter:"true"===Object(S.c)(p.a.FILTER+a.props.tableName)},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.requestAction(e)||this.responseAction(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.records,n=t.t,o=t.isLoadingOver,r=t.keyFields,l=t.disableColumns,i=t.tableName,s=i?i.toLowerCase():"";if(!a||0===a.length)return c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(f.f,null,c.a.createElement(f.J,null,c.a.createElement(f.l,{xs:"6"},c.a.createElement(d.a,{to:"/"+s+"/add"},c.a.createElement(f.b,{size:"sm",className:"btn-dropbox btn-brand icon mr-1 mb-1"},c.a.createElement("i",{className:"fa fa-plus"}))),c.a.createElement("strong",null,n(r.GridTitleList))))));var g=p.a.PAGE_SIZE,S=a.length>g?g:a.length,v=a.length>g;if(l&&l.length>0&&(a=a.map(function(e){return l.forEach(function(t){delete e[t]}),e})),a.length>0){var C=a[0],A=[];for(var N in C)N.toLowerCase().includes("date")&&A.push(N);A.length>0&&a.forEach(function(e){A.forEach(function(t){e[t]=Object(M.f)(e[t])})})}var I={data:a,columns:[],defaultPageSize:S,showPagination:v,filterable:this.state.isEnableFilter,defaultFilterMethod:function(e,t){var a=e.value.toLowerCase(),n=e.pivotId||e.id;return"identifierNumber"===n?t._index+1===parseInt(e.value):void 0!==t[n]?String(t[n]).toLowerCase().includes(a):void 0}};if(a.length<=g&&(I.pageSize=S),a&&a.length>0){var T=Object.keys(a[0]).map(function(e,t){var o={Header:n(r[e]),headerClassName:"header-table text-left",accessor:e,show:"Id"!==e&&"Status"!==e,minWidth:0===t?150:100,className:"text-left",minResizeWidth:50};return"boolean"===typeof a[0][e]&&(o.Cell=function(t){return c.a.createElement("input",{type:"checkbox",checked:!!t.original[e],disabled:!0})},o.className="text-center"),o});T.unshift({Header:"#",headerClassName:"header-table",accessor:"identifierNumber",Cell:function(e){return c.a.createElement("span",null,e.index+1)},minWidth:20,className:"text-center",minResizeWidth:50}),T.push({Header:n(m.a.common.status),headerClassName:"header-table",accessor:"status",filterable:!1,Cell:function(t){var a="Active"===t.original.Status||1===t.original.Status?m.a.common.active:"InActive"===t.original.Status||0===t.original.Status?m.a.common.inActive:m.a.common.deleted,o="Active"===t.original.Status||1===t.original.Status?"success":"InActive"===t.original.Status||0===t.original.Status?"danger":"secondary";return c.a.createElement(f.a,{className:"label-status",onClick:function(){return e.openModalChangeStatus(t.original)},color:o},n(a))},width:100,className:"text-center handle-pointer",minResizeWidth:50}),T.push({Header:n(m.a.common.update),headerClassName:"header-table",accessor:"update",filterable:!1,sortable:!1,Cell:function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{onClick:function(){return e.handleEditAction(t.original)},className:"handle-pointer fa fa-edit fa-lg"})," \xa0",c.a.createElement("i",{onClick:function(){return e.openModalDelete(t.original)},className:"handle-pointer fa fa-trash-o fa-lg"}))},width:80,className:"text-center",minResizeWidth:50}),I.columns=T}return c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(E.a,{active:o,spinner:!0,text:n(m.a.common.processingSpinner),className:"overlayFullScreen"}),c.a.createElement(f.f,null,c.a.createElement(f.j,null,c.a.createElement(f.J,null,c.a.createElement(f.l,{xs:"6"},c.a.createElement(d.a,{to:"/"+s+"/add"},c.a.createElement(f.b,{size:"sm",className:"btn-dropbox btn-brand icon mr-1 mb-1"},c.a.createElement("i",{className:"fa fa-plus"}))),c.a.createElement("strong",null,n(r.GridTitleList))),c.a.createElement(f.l,{xs:"6",className:"text-right",title:"Enables or disables records filtering of columns in the table."},n(m.a.common.filterTitle),c.a.createElement(h.n,{className:"float-right mx-1",variant:"pill",color:"primary",onChange:this.handleSwitchFilter,checked:this.state.isEnableFilter})))),c.a.createElement(f.g,null,a.length>0?c.a.createElement(u.a,I):c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(f.J,null,c.a.createElement(f.l,{xs:"12",lg:"12"},n(m.a.common.noDataFound)))),c.a.createElement(b,{isOpenModal:this.state.isShowStatusConfirmModal,toggleModal:function(){return e.handleToggleModal(p.a.CHANGE_STATUS,!1)},selectedYes:function(){return e.handleToggleModal(p.a.CHANGE_STATUS,!0)},className:"warning",sizeModal:"md",backdropModal:"static",headerTitle:n(m.a.common.infoTitleConfirmModal),bodyContent:n(m.a.common.switchStatusConfirmModal),textBtnYes:n(m.a.common.btnOk),textBtnNo:n(m.a.common.btnCancel)}),c.a.createElement(b,{isOpenModal:this.state.isShowDeleteConfirmModal,toggleModal:function(){return e.handleToggleModal(p.a.DELETE,!1)},selectedYes:function(){return e.handleToggleModal(p.a.DELETE,!0)},className:"danger",sizeModal:"md",backdropModal:"static",headerTitle:n(m.a.common.infoTitleConfirmModal),bodyContent:n(m.a.common.deleteConfirmModal),textBtnYes:n(m.a.common.btnOk),textBtnNo:n(m.a.common.btnCancel)}),c.a.createElement(b,{isOpenModal:this.state.isShowIsDefaultConfirmModal,toggleModal:function(){return e.handleToggleModal(p.a.CHANGE_ISDEFAULT,!1)},selectedYes:function(){return e.handleToggleModal(p.a.CHANGE_ISDEFAULT,!0)},className:"warning",sizeModal:"md",backdropModal:"static",headerTitle:n(m.a.common.infoTitleConfirmModal),bodyContent:n(m.a.common.switchStatusConfirmModal),textBtnYes:n(m.a.common.btnOk),textBtnNo:n(m.a.common.btnCancel)}))))}}]),t}(s.Component)},642:function(e,t,a){"use strict";a.r(t);var n=a(22),o=a(23),r=a(26),l=a(24),i=a(25),s=a(1),c=a.n(s),d=a(96),u=a(63),m=a(18),f=a(5),h=a(107),g=a.n(h),E=a(392),b=a(141),p=a(37),S=a(394),v=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).requestAction=function(e){},a.responseAction=function(e){},Object(b.a)(),a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllAction()}},{key:"componentWillReceiveProps",value:function(e){this.requestAction(e)||this.responseAction(e)}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.changeStatusModel,n=e.deleteModel,o=e.getAllModel;if(o&&a&&n){var r=a.isLoading||n.isLoading;return o.isLoading?c.a.createElement(g.a,{active:!0,spinner:!0,text:t(m.a.common.loadingSpinner)}):o.isError?c.a.createElement(E.a,{responseData:o.responseData,msgErrorGetAPI:t(m.a.common.errorGetAllAPI),t:this.props.t,msgRedirectToLogin:t(m.a.common.redirectToLogin)}):Object(b.d)(o)?c.a.createElement(S.a,Object.assign({isLoadingOver:r,records:o.responseData.Data.Records,keyFields:m.a.driver,tableName:"DRIVER",disableColumns:["DriverTypeId"]},this.props)):c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(f.J,null,c.a.createElement(f.l,{xs:"12",lg:"12"},t(m.a.common.noDataFound))))}}}]),t}(s.Component),C={getAllAction:p.p,changeStatusAction:p.d,deleteAction:p.g};t.default=Object(u.b)()(Object(d.connect)(function(e){return{getAllModel:e.getAllDriverReducer,changeStatusModel:e.changeStatusDriverReducer,deleteModel:e.deleteDriverReducer}},C)(v))}}]);
//# sourceMappingURL=17.48b306f0.chunk.js.map